<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cooking Mates - Home</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect x='8' y='26' width='48' height='24' rx='6' fill='%23ff9800'/%3E%3Crect x='14' y='18' width='36' height='6' rx='3' fill='%23ff9800'/%3E%3Cpath d='M20 14c0-3 4-5 6-5M32 12c0-3 4-5 6-5' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' fill='none' opacity='.85'/%3E%3C/svg%3E" />
  <link rel="stylesheet" href="/client/css/style.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="/client/css/styles.css" rel="stylesheet" />
  <!-- styles.css kept for components like chatbot if needed -->
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', sans-serif; background-color: #1a1a1a; color: white; }
    /* Navbar Styles */
    .navbar { display:flex; justify-content:space-between; align-items:center; padding:20px 40px; background-color:#111; position:relative; flex-wrap:wrap; border-bottom:1px solid #444; }
    .logo { font-size:24px; font-weight:bold; color:#ff9800; }
    .menu { display:flex; gap:20px; }
    .menu a { text-decoration:none; color:white; font-weight:500; transition: color .3s ease; }
    .menu a:hover { color:#ff9800; }
    /* Hero */
    .hero { text-align:center; padding:100px 20px; background: url('https://source.unsplash.com/1600x500/?food') center/cover no-repeat; }
    .hero h1 { font-size:42px; margin-bottom:10px; color:white; }
    .hero p { font-size:20px; margin-bottom:20px; color:#eee; }
    .hero button { padding:10px 25px; background-color:#ff9800; border:none; color:white; font-size:16px; border-radius:5px; cursor:pointer; }
    /* Features & Info */
    .features, .info { text-align:center; padding:50px 20px; }
    .features h2, .info h2 { font-size:30px; margin-bottom:20px; color:#ff9800; }
    .card-container { display:flex; justify-content:center; flex-wrap:wrap; gap:20px; margin-top:20px; }
    .card { background-color:#2a2a2a; padding:20px; width:220px; border-radius:10px; box-shadow:0 0 10px #111; }
    .card h3 { margin-bottom:10px; color:#ff9800; }
    .card p { color:#ccc; }
    .info button { margin-top:20px; padding:10px 25px; background-color:#ff9800; color:white; border:none; border-radius:5px; cursor:pointer; }
    /* Footer */
    .footer { text-align:center; background-color:#111; padding:20px; margin-top:40px; color:#aaa; }
    /* New sections */
    .section { padding:60px 20px; }
    .section h2 { font-size:30px; margin-bottom:16px; color:#ff9800; text-align:center; }
    .section p.lead { text-align:center; max-width:800px; margin:0 auto; color:#ddd; }
    .grid { display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); margin-top:24px; }
    .feature { background:#222; border:1px solid #333; padding:18px; border-radius:12px; }
    .feature h3 { margin-bottom:8px; color:#ffcc66; }
    .steps { counter-reset: step; }
    .step { background:#1f1f1f; border:1px solid #303030; padding:16px; border-radius:10px; position:relative; }
    .step:before { counter-increment: step; content: counter(step); position:absolute; left:-10px; top:-10px; width:28px; height:28px; border-radius:50%; background:#ff9800; color:#000; display:flex; align-items:center; justify-content:center; font-weight:700; }
    .metrics { display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:16px; margin-top:24px; }
    .metric { background:#1e1e1e; border:1px solid #2e2e2e; padding:16px; border-radius:12px; text-align:center; }
    .metric .num { font-size:28px; font-weight:800; color:#ff9800; }
    .metric .lbl { color:#ccc; }
    .testimonials { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:18px; margin-top:24px; }
    .quote { background:#202020; border:1px solid #333; padding:18px; border-radius:12px; font-style:italic; color:#ddd; }
    .cta { text-align:center; padding:60px 20px; }
    .cta .btn { display:inline-block; margin-top:12px; padding:12px 22px; background:#ff9800; color:#000; font-weight:700; border-radius:8px; text-decoration:none; }

    /* Visual polish overrides (non-breaking) */
    .navbar { position: sticky; top: 0; z-index: 100; backdrop-filter: saturate(120%) blur(6px); transition: box-shadow .25s ease; }
    .navbar.scrolled { box-shadow: 0 10px 28px rgba(0,0,0,.35); }
    .menu a { position: relative; transition: color .25s ease; }
    .menu a::after { content:""; position:absolute; left:0; bottom:-6px; height:2px; width:100%; background:#ff9800; transform:scaleX(0); transform-origin:left; transition:transform .25s ease; }
    .menu a:hover::after { transform:scaleX(1); }
    .menu-icon { display:none; background:transparent; border:1px solid #303030; color:#fff; padding:8px 10px; border-radius:8px; cursor:pointer; }

    .hero { position: relative; padding: 120px 20px; overflow: hidden; }
    .hero::before { content:""; position:absolute; inset:0; background:linear-gradient(to bottom, rgba(0,0,0,.45), rgba(0,0,0,.55)); pointer-events:none; }
    .hero > * { position: relative; z-index: 1; }
    .hero button { padding:12px 28px; border-radius:8px; box-shadow:0 6px 18px rgba(255,152,0,.25); transition:transform .2s ease, box-shadow .2s ease; }
    .hero button:hover { transform:translateY(-2px); box-shadow:0 10px 22px rgba(255,152,0,.35); }

    .card { border:1px solid #333; border-radius:12px; box-shadow:0 8px 22px rgba(0,0,0,.35); transition:transform .18s ease, box-shadow .18s ease; }
    .card:hover { transform:translateY(-6px); box-shadow:0 14px 28px rgba(0,0,0,.45); }
    .feature { box-shadow:0 6px 20px rgba(0,0,0,.25); transition:transform .18s ease, box-shadow .18s ease; }
    .feature:hover { transform:translateY(-6px); box-shadow:0 12px 26px rgba(0,0,0,.35); }
    .step { box-shadow:0 6px 18px rgba(0,0,0,.2); transition:transform .18s ease, box-shadow .18s ease; }
    .step:hover { transform:translateY(-4px); box-shadow:0 10px 24px rgba(0,0,0,.28); }
    .metric { box-shadow:0 6px 18px rgba(0,0,0,.2); transition:transform .18s ease, box-shadow .18s ease; }
    .metric:hover { transform:translateY(-4px); box-shadow:0 10px 24px rgba(0,0,0,.28); }
    .quote { box-shadow:0 6px 18px rgba(0,0,0,.2); }
    .footer { padding:24px; border-top:1px solid #2a2a2a; }
    .cta .btn { box-shadow:0 8px 20px rgba(255,152,0,.25); transition:transform .2s ease, box-shadow .2s ease; }
    .cta .btn:hover { transform:translateY(-2px); box-shadow:0 12px 26px rgba(255,152,0,.35); }

    html { scroll-behavior: smooth; }
    .reveal { opacity:0; transform:translateY(16px); transition:opacity .5s ease, transform .5s ease; }
    .reveal.in-view { opacity:1; transform:translateY(0); }
    @media (prefers-reduced-motion: reduce) { * { animation: none !important; transition: none !important; } }

    /* Brand logo styling */
    .brand { display:inline-flex; align-items:center; gap:10px; color:#ff9800; text-decoration:none; }
    .brand svg, .brand img { width:28px; height:28px; display:block; filter: drop-shadow(0 2px 6px rgba(255,152,0,.25)); transition: transform .25s ease; object-fit: contain; }
    .brand span { color:#ff9800; font-weight:700; letter-spacing:.3px; }
    .brand:hover svg { transform: rotate(-6deg) scale(1.05); }

    /* Body reveal to avoid flash behind splash */
    body.initial-hidden { opacity: 0; }
    body.revealed { opacity: 1; transition: opacity .4s ease; }

    /* Splash intro */
    #splash { position:fixed; inset:0; background:#111; display:flex; align-items:center; justify-content:center; z-index:9999; overflow:hidden; }
    #splash .logo-mark { display:flex; align-items:center; gap:12px; transform:translate(-50%, -50%); position:absolute; left:50%; top:50%; }
    #splash .logo-mark svg { width:64px; height:64px; }
    #splash .logo-mark span { font-size:24px; font-weight:800; color:#ff9800; }
    #splash.animate .logo-mark { animation: logo-to-corner 1.1s cubic-bezier(.22,.61,.36,1) forwards; }
    #splash.fade-out { animation: splash-fade .4s ease forwards; }
    @keyframes logo-pop { from { transform:translate(-50%, -50%) scale(.9); opacity:.6; } to { transform:translate(-50%, -50%) scale(1); opacity:1; } }
    @keyframes logo-to-corner { 0% { transform:translate(-50%, -50%) scale(1); } 70% { transform:translate(calc(-50% + 44vw), calc(-50% + 44vh)) scale(.45); } 100% { transform:translate(calc(-50% + 48vw), calc(-50% + 48vh)) scale(.4); } }
    @keyframes splash-fade { to { opacity:0; visibility:hidden; } }

    /* Responsive tweaks */
    @media (max-width: 1024px) {
      .hero { padding: 80px 16px; }
      .hero h1 { font-size: 36px; }
      .hero p { font-size: 18px; }
    }
    @media (max-width: 768px) {
      .navbar { padding: 16px; }
      .logo { font-size: 20px; }
      .menu { gap: 12px; flex-wrap: wrap; }
      .hero { padding: 64px 16px; background-position:center; }
      .hero h1 { font-size: 30px; }
      .hero p { font-size: 16px; }
      .section { padding: 44px 16px; }
      .section h2 { font-size: 26px; }
      .card-container { gap: 16px; }
      .card { width: 100%; max-width: 420px; margin: 0 auto; }
      .metrics { grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }
      .cta { padding: 44px 16px; }
    }
    @media (max-width: 480px) {
      .menu a { font-size: 14px; }
      .hero h1 { font-size: 26px; }
      .hero p { font-size: 15px; }
      .section h2 { font-size: 24px; }
      .metric .num { font-size: 24px; }
      .cta .btn { display:block; margin:10px auto 0; width:100%; max-width:320px; }
    }

    /* Index-only: re-enable mobile hamburger menu (overrides global non-responsive rules) */
    @media (max-width: 768px) {
      .navbar .menu { 
        display: none !important; 
        position: absolute !important; 
        top: 64px; right: 16px; 
        background: #161b22 !important; 
        border: 1px solid #30363d !important; 
        width: 220px !important; 
        padding: 12px !important; 
        border-radius: 12px; 
        flex-direction: column; 
        box-shadow: 0 12px 28px rgba(0,0,0,.35);
      }
      .navbar .menu.show { display: flex !important; }
      .navbar .menu a { padding: 10px 8px; border-bottom: 1px solid #2a2f35; text-align: left; }
      .navbar .menu a:last-child { border-bottom: none; }
      .navbar .menu-icon { display: inline-block !important; }
    }
  </style>
  <script src="/client/js/api.js" type="module"></script>
  <script src="/client/js/main.js" type="module"></script>
  
</head>
<body class="initial-hidden">

  <!-- Navigation Bar -->
  <!-- Splash Intro -->
  <div id="splash" aria-hidden="true">
    <div class="logo-mark" style="animation: logo-pop .5s ease both;">
      <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false" style="width:64px;height:64px;display:block">
        <rect x="8" y="26" width="48" height="24" rx="6" fill="#ff9800"/>
        <rect x="14" y="18" width="36" height="6" rx="3" fill="#ff9800"/>
        <path d="M20 14c0-3 4-5 6-5M32 12c0-3 4-5 6-5" stroke="#fff" stroke-width="2" stroke-linecap="round" fill="none" opacity="0.85"/>
      </svg>
      <span>Cooking Mates</span>
    </div>
  </div>

  <nav class="navbar">
    <a class="brand" href="/client/index.html" aria-label="Cooking Mates home">
      <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false">
        <rect x="8" y="26" width="48" height="24" rx="6" fill="#ff9800"/>
        <rect x="14" y="18" width="36" height="6" rx="3" fill="#ff9800"/>
        <path d="M20 14c0-3 4-5 6-5M32 12c0-3 4-5 6-5" stroke="#fff" stroke-width="2" stroke-linecap="round" fill="none" opacity="0.85"/>
      </svg>
      <span>Cooking Mates</span>
    </a>
    <button class="menu-icon" id="menuToggle" aria-label="Open Menu"><i class="fa-solid fa-bars"></i></button>
    <div class="menu" id="navLinks">
      <a href="/client/index.html">Home</a>
      <a href="/client/recipes.html">Recipes</a>
      <a href="/client/calories.html">Calorie Tracker</a>
      <a href="/client/gym.html">Gym Tracker</a>
      <a href="/login">Login</a>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="hero reveal" data-reveal>
    <h1>Welcome to Cooking Mates</h1>
    <p>Your Personal Recipe & Diet Partner</p>
    <a href="/client/recipes.html"><button>Explore Recipes</button></a>
  </header>

  <!-- Featured Section -->
  <section class="features reveal" data-reveal>
    <h2>Featured Recipes</h2>
    <div class="card-container" id="popularRecipes">
      <!-- populated from API -->
    </div>
  </section>

  <!-- Info Section -->
  <section class="info reveal" data-reveal>
    <h2>Track Calories & Gym Diet</h2>
    <p>Get calorie insights and plan your gym diet smartly.</p>
    <a href="/client/calories.html"><button>Start Tracking</button></a>
  </section>

  <!-- About Section -->
  <section class="section reveal" id="about" data-reveal>
    <h2>About Cooking Mates</h2>
    <p class="lead">Cooking Mates helps you discover tasty, balanced recipes, log workouts and calories, and keep your nutrition organized — all in one clean, simple dashboard.</p>
    <div class="grid">
      <div class="feature">
        <h3>Smart Recipe Picks</h3>
        <p>Search a large collection of recipes and discover new ideas with images, ingredients and steps.</p>
      </div>
      <div class="feature">
        <h3>Personal Dashboard</h3>
        <p>Save favorites, track what you’ve tried, and quickly access recent meals.</p>
      </div>
      <div class="feature">
        <h3>Fitness Friendly</h3>
        <p>Use the calorie and gym trackers to align meals with your training goals.</p>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section class="section reveal" id="how" data-reveal>
    <h2>How It Works</h2>
    <div class="grid steps">
      <div class="step"><strong>Create</strong> your account and set a username.</div>
      <div class="step"><strong>Explore</strong> recipes and save your favorites.</div>
      <div class="step"><strong>Track</strong> calories and workouts from the dashboard.</div>
      <div class="step"><strong>Optimize</strong> your plan as you go — see what works for you.</div>
    </div>
  </section>

  <!-- Quick Metrics -->
  <section class="section reveal" id="metrics" data-reveal>
    <h2>Why People Love It</h2>
    <div class="metrics">
      <div class="metric"><div class="num">1K+</div><div class="lbl">Recipes browsed</div></div>
      <div class="metric"><div class="num">500+</div><div class="lbl">Meals saved</div></div>
      <div class="metric"><div class="num">10K+</div><div class="lbl">Calories tracked</div></div>
      <div class="metric"><div class="num">4.8★</div><div class="lbl">User satisfaction</div></div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="section reveal" id="testimonials" data-reveal>
    <h2>What Users Say</h2>
    <div class="testimonials">
      <div class="quote">“Clean, fast, and the recipes are actually doable.” — Priya</div>
      <div class="quote">“My gym meals finally feel organized. Love the tracker.” — Rohan</div>
      <div class="quote">“Perfect balance between taste and macros.” — Neha</div>
    </div>
  </section>

  <!-- Call To Action -->
  <section class="cta reveal" id="start" data-reveal>
    <h2 style="color:#ff9800">Ready to cook smarter?</h2>
    <p style="color:#ddd">Jump in and explore recipes or sign in to start saving your picks.</p>
    <a class="btn" href="/client/recipes.html">Explore Recipes</a>
    <a class="btn" href="/login" style="margin-left:8px;background:#ffd699;">Sign In</a>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <p>Made with ❤️ by Arin Sharma | Email: arin.sharma18424@sakec.ac.in</p>
  </footer>

  

  <script>
    // Splash sequence -> animate logo to actual navbar brand position
    window.addEventListener('load', () => {
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const splash = document.getElementById('splash');
      const logoMark = splash ? splash.querySelector('.logo-mark') : null;
      const brand = document.querySelector('.navbar .brand');
      if (!splash || !logoMark || !brand) { document.body.classList.add('revealed'); return; }
      if (prefersReduced) { splash.remove(); document.body.classList.add('revealed'); return; }

      // Ensure initial state
      document.body.offsetHeight; // reflow

      // Compute target center of brand icon area
      const brandRect = brand.getBoundingClientRect();
      // Aim near left of brand (icon area ~ 28px square)
      const targetX = brandRect.left + 14; // center of icon
      const targetY = brandRect.top + Math.min(brandRect.height, 28) / 2;

      // Current center is viewport center (due to translate(-50%, -50%))
      const vwCenterX = window.innerWidth / 2;
      const vwCenterY = window.innerHeight / 2;

      // Distance to move from center
      const dx = targetX - vwCenterX;
      const dy = targetY - vwCenterY;

      // Scale from splash size (64px) to navbar size (~28px)
      const scale = 28 / 64;

      // Animate via direct transform
      logoMark.style.transition = 'transform 1s cubic-bezier(.22,.61,.36,1)';
      requestAnimationFrame(() => {
        logoMark.style.transform = `translate(${dx}px, ${dy}px) scale(${scale})`;
      });

      // Fade out splash then remove, reveal body
      setTimeout(() => { splash.classList.add('fade-out'); }, 1050);
      setTimeout(() => { splash.remove(); document.body.classList.remove('initial-hidden'); document.body.classList.add('revealed'); }, 1500);
    });

    // Subtle parallax for hero background
    document.addEventListener('scroll', () => {
      const hero = document.querySelector('.hero');
      const navbar = document.querySelector('.navbar');
      if (!hero) return;
      const y = window.scrollY * 0.2;
      hero.style.backgroundPosition = `center calc(50% + ${y}px)`;
      if (navbar) {
        if (window.scrollY > 8) navbar.classList.add('scrolled');
        else navbar.classList.remove('scrolled');
      }
    }, { passive: true });

    // Reveal-on-scroll
    const io = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
          io.unobserve(entry.target);
        }
      });
    }, { threshold: 0.15 });
    document.querySelectorAll('[data-reveal]').forEach(el => io.observe(el));
  </script>
  <script>
    // Load featured recipes into cards
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        const response = await fetch('/api/recipes/popular');
        const recipes = await response.json();
        const container = document.getElementById('popularRecipes');
        
        recipes.slice(0, 3).forEach(recipe => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <h3>${recipe.name}</h3>
            <p>${recipe.description}</p>
          `;
          container.appendChild(card);
        });
      } catch (error) {
        console.error('Error loading recipes:', error);
      }
    });
  </script>

</body>
</html>