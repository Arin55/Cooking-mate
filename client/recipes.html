<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Cooking Mates - Recipes</title>
  <link href="/client/css/style.css" rel="stylesheet"/>
  <link href="/client/css/styles.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://www.themealdb.com" crossorigin>
  <link rel="dns-prefetch" href="//www.themealdb.com">
  <style>
    body { background: #181c22; color: #fff; }
    .recipe-search-bar{display:flex;justify-content:center;margin:40px 0 30px}
    .recipe-search-bar input{padding:12px 18px;border-radius:8px 0 0 8px;border:none;outline:none;font-size:1.1rem;width:320px;background:#23272e;color:#fff;border:1px solid #333}
    .recipe-search-bar button{padding:12px 28px;border-radius:0 8px 8px 0;border:none;background:#ff9800;color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;transition:background .2s;border:1px solid #ff9800}
    .recipe-search-bar button:hover{background:#ffa726}
    .recipes-list{display:flex;flex-wrap:wrap;gap:28px;justify-content:center;margin-bottom:40px}
    .recipe-card{background:#23272e;border-radius:16px;box-shadow:0 2px 16px #000a;width:290px;overflow:hidden;display:flex;flex-direction:column;align-items:center;transition:transform .2s, box-shadow .2s;border:1px solid #333}
    .recipe-card:hover{transform:translateY(-6px) scale(1.03);box-shadow:0 6px 24px #000c;border-color:#ff9800}
    .recipe-card img{width:100%;height:180px;object-fit:cover;background:#222}
    /* Skeleton for images */
    .skeleton{position:relative;overflow:hidden;background:linear-gradient(90deg,#2a2e36 25%,#333843 37%,#2a2e36 63%);background-size:400% 100%;animation:shimmer 1.2s infinite}
    @keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
    .lazy-img{filter:saturate(.9);}
    .recipe-card-content{padding:18px 16px 10px 16px;width:100%;text-align:center}
    .recipe-card h3{margin:0 0 8px;color:#ff9800;font-size:1.25rem;font-weight:bold}
    .recipe-card p{margin:0 0 10px;color:#ccc;font-size:1rem}
    .recipe-card .view-btn{margin:12px 0 10px;padding:10px 0;width:90%;background:#ff9800;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}
    .recipe-card .view-btn:hover{background:#ffa726}
    .modal-bg{display:none;position:fixed;z-index:9999;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,.85);justify-content:center;align-items:center}
    .modal-bg.active{display:flex}
    .modal{background:#23272e;border-radius:16px;max-width:420px;width:95vw;padding:28px 22px 18px;box-shadow:0 8px 32px #000c;color:#fff;position:relative;animation:popin .2s;max-height:90vh;overflow-y:auto}
    @keyframes popin{from{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}
    .modal-close{position:absolute;top:12px;right:18px;font-size:1.5rem;color:#ff9800;background:none;border:none;cursor:pointer}
    .modal-back{position:absolute;top:12px;left:18px;font-size:1.1rem;background:none;border:none;color:#ff9800;cursor:pointer;display:flex;align-items:center;gap:4px}
    .modal h2{color:#ff9800;margin-bottom:10px;font-size:1.4rem}
    .modal .modal-img{width:100%;border-radius:10px;margin-bottom:12px;object-fit:cover;max-height:180px}
    .modal .modal-section-title{color:#ffa726;margin:12px 0 4px;font-size:1.1rem;font-weight:bold}
    .modal ul{margin:0 0 10px;padding-left:18px;color:#eee;font-size:1rem}
    .modal .save-btn{margin-top:12px;width:100%;padding:10px 0;background:#ff9800;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}
    .modal .save-btn.saved{background:#444;color:#aaa;cursor:default}
    .modal .modal-cal{color:#fff;background:#333;padding:6px 14px;border-radius:8px;font-size:1rem;margin-bottom:10px;display:inline-block}
    /* Enhanced Responsive Design */
    @media (max-width: 1200px) {
      .recipe-search-bar input { width: 280px; }
      .recipes-list { gap: 24px; }
      .recipe-card { width: 270px; }
    }
    
    @media (max-width: 992px) {
      .recipe-search-bar { margin: 30px 0 25px; }
      .recipe-search-bar input { width: 250px; font-size: 1rem; padding: 10px 16px; }
      .recipe-search-bar button { padding: 10px 24px; font-size: 1rem; }
      .recipes-list { gap: 20px; }
      .recipe-card { width: 250px; }
    }
    
    @media (max-width: 768px) {
      .recipe-search-bar { 
        flex-direction: column; 
        gap: 12px; 
        margin: 25px 0 20px; 
      }
      .recipe-search-bar input { 
        width: 100%; 
        max-width: 400px; 
        border-radius: 8px; 
        font-size: 0.95rem; 
        padding: 10px 14px; 
      }
      .recipe-search-bar button { 
        width: 100%; 
        max-width: 400px; 
        border-radius: 8px; 
        font-size: 0.95rem; 
        padding: 10px 20px; 
      }
      .recipes-list { 
        gap: 16px; 
        padding: 0 10px; 
      }
      .recipe-card { 
        width: 100%; 
        max-width: 300px; 
      }
      .recipe-card-content { padding: 16px 14px 8px 14px; }
      .recipe-card h3 { font-size: 1.15rem; }
      .recipe-card p { font-size: 0.9rem; }
    }
    
    @media (max-width: 480px) {
      .recipe-search-bar { margin: 20px 0 15px; }
      .recipe-search-bar input { 
        font-size: 0.9rem; 
        padding: 8px 12px; 
      }
      .recipe-search-bar button { 
        font-size: 0.9rem; 
        padding: 8px 16px; 
      }
      .recipes-list { 
        gap: 12px; 
        padding: 0 5px; 
      }
      .recipe-card { 
        width: 100%; 
        max-width: 280px; 
      }
      .recipe-card-content { padding: 14px 12px 6px 12px; }
      .recipe-card h3 { font-size: 1.1rem; }
      .recipe-card p { font-size: 0.85rem; }
      .recipe-card .view-btn { 
        font-size: 0.9rem; 
        padding: 8px 0; 
      }
    }
    
    @media(max-width:600px){
      .modal{
        width:100%;
        height:100%;
        max-width:none;
        max-height:100%;
        border-radius:0;
        padding-top:60px;
        overflow-y:auto;
      }
      .modal-back{
        position:fixed;
        top:10px;
        left:12px;
        z-index:10000;
        background:#23272e;
        padding:6px 10px;
        border-radius:6px;
      }
      .modal-close{
        position:fixed;
        top:10px;
        right:12px;
        z-index:10000;
        background:#23272e;
        padding:6px 10px;
        border-radius:6px;
      }
      .modal h2{
        font-size:1.2rem;
        margin-top:0;
      }
    }
    .modal::-webkit-scrollbar{width:6px}
    .modal::-webkit-scrollbar-thumb{background:#555;border-radius:4px}
    /* Recipes-only: re-enable mobile hamburger menu (overrides global non-responsive rules) */
    @media (max-width: 768px) {
      .navbar .menu { 
        display: none !important; 
        position: absolute !important; 
        top: 64px; right: 16px; 
        background: #23272e !important; 
        border: 1px solid #333 !important; 
        width: 220px !important; 
        padding: 12px !important; 
        border-radius: 12px; 
        flex-direction: column; 
        box-shadow: 0 12px 28px rgba(0,0,0,.35);
        z-index: 1000;
      }
      .navbar .menu.show { display: flex !important; }
      .navbar .menu a { padding: 10px 8px; border-bottom: 1px solid #2a2f35; text-align: left; }
      .navbar .menu a:last-child { border-bottom: none; }
      .navbar .menu-icon { display: inline-block !important; }
    }
  </style>
</head>
<body>
  <!-- Dark Navbar -->
  <nav class="navbar">
    <div class="logo">Cooking Mates</div>
    <button class="menu-icon" id="menuToggle" aria-label="Open Menu">
      <i class="fa-solid fa-bars"></i>
    </button>
    <div class="menu" id="navLinks">
      <a href="/client/index.html">Home</a>
      <a href="/client/recipes.html">Recipes</a>
      <a href="/client/calories.html">Calorie Tracker</a>
      <a href="/client/gym.html">Gym Tracker</a>
      <a href="/login">Login</a>
    </div>
  </nav>

  <main class="container">
    <div class="recipe-search-bar">
      <input type="text" placeholder="Search for recipes..." id="searchInput" />
      <button id="searchBtn">Search</button>
    </div>

    <div class="recipes-list" id="recipesList"></div>
  </main>

  <!-- Modal -->
  <div class="modal-bg" id="modalBg">
    <div class="modal" id="modal">
      <button class="modal-close" id="modalClose">&times;</button>
      <button class="modal-back" id="modalBack"><i class="fa fa-arrow-left"></i> Back</button>
      <img class="modal-img" id="modalImg" src="" alt="Recipe" />
      <h2 id="modalTitle"></h2>
      <div class="modal-cal" id="modalCal"></div>
      <div class="modal-section-title">Ingredients</div>
      <ul id="modalIngredients"></ul>
      <div class="modal-section-title">Instructions</div>
      <ul id="modalInstructions"></ul>
      <button class="save-btn" id="saveBtn">Save Recipe</button>
    </div>
  </div>

  <footer class="footer">
    <p>Made with ❤️ by Arin Sharma | Email: arin.sharma18424@sakec.ac.in</p>
  </footer>

  <script src="/client/js/main.js" type="module"></script>
  <script src="/client/js/recipes2.js" type="module"></script>
</body>
</html>
